
" Exit Vim
nnoremap <leader>E ZZ<cr>

" Move between wrapped lines, rather than jumping over wrapped segments
nmap j gj
nmap k gk

" Use C-Space to Esc out of any mode
nnoremap <C-Space> <Esc>:noh<CR>
vnoremap <C-Space> <Esc>gV
onoremap <C-Space> <Esc>
cnoremap <C-Space> <C-c>
inoremap <C-Space> <Esc>
" Terminal sees <C-@> as <C-space>
nnoremap <C-@> <Esc>:noh<CR>
vnoremap <C-@> <Esc>gV
onoremap <C-@> <Esc>
cnoremap <C-@> <C-c>
inoremap <C-@> <Esc>

" Quick sourcing of the current file, allowing for quick vimrc testing
nnoremap <leader><cr>

nnoremap <leader>df :Files ~/.dotfiles/<cr>
nnoremap <leader>; :

" Vim Plug
nnoremap <leader>pi :PlugInstall<cr>
nnoremap <leader>pc :PlugClean<cr>

" Q for Ex mode is useless. This will run the macro in q register
nnoremap Q @q


" Buffers

" write
nnoremap <leader>w :w<cr>
" write and close
nnoremap <leader>wq :w<cr> :bd<cr>
" vertical split
nnoremap <leader>vs :vs<cr>
" toggle last buffer
nnoremap <leader>bb <C-^><cr>
" close
nnoremap <leader>q :bd<cr>
" close all
nnoremap <leader>Q :%bd<cr>
" go to next buffer
nnoremap <Tab> :bn<cr>
" go to previous buffer
nnoremap <leader><Tab> :bp<cr>
" go to first buffer
nnoremap <leader>bf :bf<cr>
" go to last buffer
nnoremap <leader>bl :bl<cr>
" switch between the last two buffers
nnoremap <leader><leader> <c-^>

" zoom
nnoremap <leader>- :wincmd _<cr>:wincmd \|<cr>
nnoremap <leader>= :wincmd =<cr>

" Folding

"Maps for folding, unfolding all
nnoremap <leader>ff zM<CR>
nnoremap <leader>uf zR<CR>
"Fold levels
nnoremap <leader>fn zm<CR>
nnoremap <leader>fp zr<CR>
"Individiual Folds
nnoremap <leader>fo zo<CR>
nnoremap <leader>fO zO<CR>
nnoremap <leader>fa za<CR>
nnoremap <leader>fA zA<CR>

nnoremap <silent> <leader>ff :let&l:foldlevel = indent(".") / &sw<cr>

"Tab Completion
inoremap <Tab> <c-r>=InsertTabWrapper()<cr>
inoremap <S-Tab> <c-n>

"Todo
nnoremap <leader>dn :ToggleCompletion<cr>
nnoremap <Plug>MakeTodo :MakeTodo<cr>
map <leader>td <Plug>MakeTodo

" toggle char column
nnoremap <leader>tc :call ToggleColumn()<cr>

" Search and Replace
nnoremap <leader>sar :%s///g<left><left>
vnoremap <leader>sar :s///g<left><left>

" Edit
nmap gf :edit <cfile><cr>

nmap <leader>ve :edit ~/.dotfiles/nvim/init.vim<cr>
nmap <leader>vc :edit ~/.dotfiles/nvim/coc-settings.json<cr>
nmap <leader>vr :source ~/.dotfiles/nvim/init.vim<cr>

nmap <leader>k :nohlsearch<CR>

" Quickly escape to normal mode
imap jj <esc>

" Strip Whitespace
nnoremap <leader>dw :StripWhitespace<cr>:w<cr>

" comments
nmap cm gc

" Easy Align
nmap <leader>rft :ReformatTable<cr>
vmap <cr> <Plug>(EasyAlign)

" Replace with Register
nmap <leader>re "*gr
nmap <leader>RE "*gR

" Titlecase over a motion or text object
nmap <leader>gt <Plug>Titlecase
vmap <leader>gt <Plug>Titlecase
nmap <leader>gT <Plug>TitlecaseLine


" vim:ft=vim
